"use strict";(()=>{var o=jQuery;var n=(r="message",e)=>{let c=".row .woocommerce > .woocommerce-NoticeGroup.woocommerce-NoticeGroup-checkout";document.querySelector(c)?o(c).append(o(`<ul class="woocommerce-${r}"><li>${e}</li></ul>`)):o(".row .woocommerce").prepend(o(`<div class="woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout"><ul class="woocommerce-${r}"><li>${e}</li></ul></div>}`))};var a=r=>{if(window.busy===!0)return;window.busy=!0,r.preventDefault();let e=o(r.currentTarget),c=e.parent().find(".hidden_order_number").html();e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),o.ajax({url:"/wp-admin/admin-ajax.php",data:{action:"fortnox_action",fortnox_action:"send_invoice",order_id:c},type:"POST",dataType:"json",success:function(t){t.error?n("error",t.message):(e.hide(),e.after(o('<span class="indicator-fortnox-invoice-sent"></span>')),n("message",t.message)),e.unblock(),window.busy=!1}})};var s=()=>{o(document.body).on("click",".fortnox-my-account-send-invoice",a)};var i=()=>{document.querySelector(".woocommerce-MyAccount-orders")&&s()};document.readyState==="complete"?i():window.addEventListener("load",function(){i()});})();
